{"version":3,"sources":["../src/ScrollLock.jsx"],"names":["ScrollLock","props","listenToWheelEvent","bind","stopListeningToWheelEvent","onScrollHandler","setScrollingElement","cancelScrollEvent","enabled","nextProps","fn","e","elem","scrollingElement","scrollTop","scrollHeight","clientHeight","wheelDelta","deltaY","isDeltaPositive","shouldCancelScroll","r","firstChild","stopImmediatePropagation","preventDefault","addEventListener","removeEventListener","className","children","propTypes","string","bool","defaultProps"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEMA,U;;;AASF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACTA,KADS;;AAEf,cAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,OAA1B;AACA,cAAKC,yBAAL,GAAiC,MAAKA,yBAAL,CAA+BD,IAA/B,OAAjC;AACA,cAAKE,eAAL,GAAuB,MAAKA,eAAL,CAAqBF,IAArB,OAAvB;AACA,cAAKG,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBH,IAAzB,OAA3B;AACA,cAAKI,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBJ,IAAvB,OAAzB;AANe;AAOlB;;;;4CAEmB;AAChB,gBAAI,KAAKF,KAAL,CAAWO,OAAf,EAAwB;AACpB,qBAAKN,kBAAL;AACH;AACJ;;;kDAEyBO,S,EAAW;AACjC,gBAAI,KAAKR,KAAL,CAAWO,OAAX,KAAuBC,UAAUD,OAArC,EAA8C;AAC1C,oBAAME,KAAKD,UAAUD,OAAV,GAAoB,KAAKN,kBAAzB,GAA8C,KAAKE,yBAA9D;AACAM;AACH;AACJ;;;+CAEsB;AACnB,iBAAKN,yBAAL;AACH;;;wCAEeO,C,EAAG;AACf,gBAAMC,OAAO,KAAKC,gBAAlB;AADe,gBAEPC,SAFO,GAEmCF,IAFnC,CAEPE,SAFO;AAAA,gBAEIC,YAFJ,GAEmCH,IAFnC,CAEIG,YAFJ;AAAA,gBAEkBC,YAFlB,GAEmCJ,IAFnC,CAEkBI,YAFlB;;AAGf,gBAAMC,aAAaN,EAAEO,MAArB;AACA,gBAAMC,kBAAkBF,aAAa,CAArC;;AAEA,gBAAIG,qBAAqB,KAAzB;AACA,gBAAID,mBAAmBF,aAAaF,eAAeC,YAAf,GAA8BF,SAAlE,EAA6E;AACzEF,qBAAKE,SAAL,GAAiBC,YAAjB;AACAK,qCAAqB,IAArB;AACH,aAHD,MAGO,IAAI,CAACD,eAAD,IAAoB,CAACF,UAAD,GAAcH,SAAtC,EAAiD;AACpDF,qBAAKE,SAAL,GAAiB,CAAjB;AACAM,qCAAqB,IAArB;AACH;;AAED,gBAAIA,kBAAJ,EAAwB;AACpB,qBAAKb,iBAAL,CAAuBI,CAAvB;AACH;AACJ;;;4CAEmBU,C,EAAG;AACnB,iBAAKR,gBAAL,GAAwBQ,KAAKA,EAAEC,UAA/B;AACH;;;0CAEiBX,C,EAAG;AACjBA,cAAEY,wBAAF;AACAZ,cAAEa,cAAF;AACA,mBAAO,KAAP;AACH;;;6CAEoB;AACjB,iBAAKX,gBAAL,CAAsBY,gBAAtB,CAAuC,OAAvC,EAAgD,KAAKpB,eAArD,EAAsE,KAAtE;AACH;;;oDAE2B;AACxB,iBAAKQ,gBAAL,CAAsBa,mBAAtB,CAA0C,OAA1C,EAAmD,KAAKrB,eAAxD,EAAyE,KAAzE;AACH;;;iCAEQ;AACL,mBACI;AAAA;AAAA,kBAAK,WAAW,KAAKJ,KAAL,CAAW0B,SAA3B,EAAsC,KAAK,KAAKrB,mBAAhD;AACK,qBAAKL,KAAL,CAAW2B;AADhB,aADJ;AAKH;;;;;;AA/EC5B,U,CACK6B,S,GAAY;AACfF,eAAW,iBAAUG,MADN;AAEftB,aAAS,iBAAUuB;AAFJ,C;AADjB/B,U,CAKKgC,Y,GAAe;AAClBxB,aAAS;AADS,C;kBA6EXR,U","file":"ScrollLock.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\n\nclass ScrollLock extends Component {\n    static propTypes = {\n        className: PropTypes.string,\n        enabled: PropTypes.bool\n    }\n    static defaultProps = {\n        enabled: true\n    }\n    \n    constructor(props) {\n        super(props);\n        this.listenToWheelEvent = this.listenToWheelEvent.bind(this);\n        this.stopListeningToWheelEvent = this.stopListeningToWheelEvent.bind(this);\n        this.onScrollHandler = this.onScrollHandler.bind(this);\n        this.setScrollingElement = this.setScrollingElement.bind(this);\n        this.cancelScrollEvent = this.cancelScrollEvent.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.enabled) {\n            this.listenToWheelEvent();\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.enabled !== nextProps.enabled) {\n            const fn = nextProps.enabled ? this.listenToWheelEvent : this.stopListeningToWheelEvent;\n            fn();\n        }\n    }\n\n    componentWillUnmount() {\n        this.stopListeningToWheelEvent();\n    }\n\n    onScrollHandler(e) {\n        const elem = this.scrollingElement;\n        const { scrollTop, scrollHeight, clientHeight } = elem;\n        const wheelDelta = e.deltaY;\n        const isDeltaPositive = wheelDelta > 0;\n\n        let shouldCancelScroll = false;\n        if (isDeltaPositive && wheelDelta > scrollHeight - clientHeight - scrollTop) {\n            elem.scrollTop = scrollHeight;\n            shouldCancelScroll = true;\n        } else if (!isDeltaPositive && -wheelDelta > scrollTop) {\n            elem.scrollTop = 0;\n            shouldCancelScroll = true;\n        }\n\n        if (shouldCancelScroll) {\n            this.cancelScrollEvent(e);\n        }\n    }\n\n    setScrollingElement(r) {\n        this.scrollingElement = r && r.firstChild;\n    }\n\n    cancelScrollEvent(e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        return false;\n    }\n\n    listenToWheelEvent() {\n        this.scrollingElement.addEventListener('wheel', this.onScrollHandler, false);\n    }\n\n    stopListeningToWheelEvent() {\n        this.scrollingElement.removeEventListener('wheel', this.onScrollHandler, false);\n    }\n\n    render() {\n        return (\n            <div className={this.props.className} ref={this.setScrollingElement}>\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default ScrollLock;\n"]}